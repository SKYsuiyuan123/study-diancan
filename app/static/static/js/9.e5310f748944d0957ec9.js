webpackJsonp([9],{"3tm2":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var n={data:function(){return{baskets:[]}},computed:{total:function(){var t=0;for(var s in this.baskets){var e=this.baskets[s];t+=e.quantity*e.price}return t},getMenuItems:function(){return this.$store.getters.getMenuItems}},methods:{addToBasket:function(t,s){var e={name:t.name,size:s.size,price:s.price,quantity:1};if(this.baskets.length>0){var n=this.baskets.filter(function(e){return e.name===t.name&&e.price===s.price});null!=n&&n.length>0?n[0].quantity++:this.baskets.push(e)}else this.baskets.push(e)},decreaseQuantity:function(t){t.quantity--,t.quantity<=0&&this.removeFromBasket(t)},increaseQuantity:function(t){t.quantity++},removeFromBasket:function(t){this.baskets.splice(this.baskets.indexOf(t),1)}},created:function(){var t=this;this.$axios.get("/menu.json").then(function(s){t.$store.commit("setMenuItems",s.data)}).catch(function(t){console.log(t)})}},i={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-md-7"},[e("table",{staticClass:"table"},[t._m(0),t._v(" "),t._l(t.getMenuItems,function(s){return e("tbody",{key:s.id},[e("tr",[e("td",[e("strong",[t._v(t._s(s.name))])])]),t._v(" "),t._l(s.options,function(n){return e("tr",{key:n.id},[e("td",[t._v(t._s(n.size)+" 寸")]),t._v(" "),e("td",[t._v(t._s(n.price)+" RMB")]),t._v(" "),e("td",[e("button",{staticClass:"btn btn-sm btn-outline-success",on:{click:function(e){t.addToBasket(s,n)}}},[t._v("+")])])])})],2)})],2)]),t._v(" "),e("div",{staticClass:"col-md-5 col-sm-12"},[t.baskets.length>0?e("div",[e("table",{staticClass:"table"},[t._m(1),t._v(" "),t._l(t.baskets,function(s){return e("tbody",{key:s.id},[e("tr",[e("td",[e("button",{staticClass:"btn btn-sm",on:{click:function(e){t.decreaseQuantity(s)}}},[t._v("-")]),t._v(" "),e("span",[t._v(t._s(s.quantity))]),t._v(" "),e("button",{staticClass:"btn btn-sm",on:{click:function(e){t.increaseQuantity(s)}}},[t._v("+")])]),t._v(" "),e("td",[t._v(t._s(s.name)+" "+t._s(s.size)+" 寸")]),t._v(" "),e("td",[t._v(t._s(s.price*s.quantity)+" RMB")])])])})],2),t._v(" "),e("p",[t._v("总价： "+t._s(t.total)+" RMB")]),t._v(" "),e("button",{staticClass:"btn btn-success btn-block"},[t._v("提交")])]):e("div",[t._v("购物空空如也，快去添加吧！")])])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("thead",{staticClass:"thead-default"},[s("tr",[s("th",[this._v("尺寸")]),this._v(" "),s("th",[this._v("单价")]),this._v(" "),s("th",[this._v("加入")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("thead",{staticClass:"thead-default"},[s("tr",[s("th",[this._v("数量")]),this._v(" "),s("th",[this._v("品种")]),this._v(" "),s("th",[this._v("价格")])])])}]},a=e("vSla")(n,i,!1,null,null,null);s.default=a.exports}});
//# sourceMappingURL=9.e5310f748944d0957ec9.js.map